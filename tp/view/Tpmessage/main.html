<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据查询</title>
    <link rel="stylesheet" href="/layui/css/layui.css" media="all">
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="/layui/layui.js"></script>

    <script>
        layui.use(['table'], function() {
            var table = layui.table;
            var laypage = layui.laypage;
            //监听工具条
            table.on('tool(demo)', function(obj) {
                var data = obj.data;
                id = data['id'];
                if (obj.event === 'detail') {

                } else if (obj.event === 'del') {
                    alert("请先登录");
                } else if (obj.event === 'edit') {
                    alert("请先登录");
                }
            });
            table.render({
                elem: '#num',
                height: 400,
                url: 'http://localhost:8000/select',
                page: true,
                method: 'get',
                limit: 20,
                limits: [20 ,50],
                height: 600,
                cols: [
                    [{
                        field: 'tid',
                        title: '序号',
                        width: 80,
                        sort: true,
                        fixed: 'left'
                    },
                    {
                        field: 'nickname',
                        title: '昵称'
                    },
                    {
                        field: 'email',
                        title: '邮箱'
                    },
                    {
                        field: 'content',
                        title: '留言类容'
                    },
                    {
                        field: 'create_time',
                        title: '发布时间'
                    },
                    {
                        field: 'update_time',
                        title: '修改时间',
                    },
                    {
                        hide: true,
                        field: 'user_id',
                        title: 'user_Id',
                        sort: true,
                    },

                    {
                        fixed: 'right',
                        align: 'center',
                        toolbar: '#barDemo'
                    }

                    ]
                ],

            })

        });


        //添加
        function add() {
            alert('请先登录');
        }
        //登录
        function login() {
            window.location.href = "login.html";
        }

        function Logout() {
            alert('请先登录');

        }
    </script>

    <div class="layui-btn-group demoTable">
        <button class="layui-btn" data-type="getCheckData" onclick="add()">新增</button>
        <button class="layui-btn" data-type="getCheckData" onclick="login()">登录</button>
    </div>
    <script type="text/html" id="barDemo">
        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
    </script>
</head>

<body>
    </table>
    <table class="layui-hide" id="num" lay-filter="demo"></table>
    </div>
</body>

</html>